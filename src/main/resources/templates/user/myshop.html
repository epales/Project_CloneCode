<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>내 상점</title>
<th:block th:replace="/fragments/layouts/headerFragment.html :: headerFragment"></th:block>
<link rel="stylesheet" th:href="@{/css/myshop.css}">
<script type="text/javascript" th:src="@{/js/myshop.js}"></script>
<link rel="stylesheet" th:href="@{/css/product.css}">
</head>
<script th:inline="javascript">

var follow = $("#followCheck");
const followImg = document.getElementById("followImage");

console.log("follow.val=", follow.val());

function cancelFollow(myName) {
	
		$.ajax({
            url: '/member/follow',
            type: 'POST',
            data: {'email': myName},
            success: function (data) { 
            	if(data == 0){
            		alert("로그인 후 사용가능한 기능입니다.");
					var url = "loginForm";
					location.replace(url);
				}else{
            	console.log("팔로우 취소");
            	location.reload();
            	followImg.val("0")   
                follow.val("0"); 
               
				}
            }, error: function () {
                console.log('오류입니다.');
            }
        });
		alert("팔로우 취소되었습니다 ( ĭ˄ĭ)=p");
	}; 
function Follow(userName) {
		
		$.ajax({
            url: '/member/follow',
            type: 'POST',
            data: {'email': userName},
            success: function (data) { 
            	if(data == 0){
            		alert("로그인 후 사용가능한 기능입니다.");
					var url = "loginForm";
					location.replace(url);
				}else{
            	console.log("팔로우 취소");
            	location.reload();
            	followImg.val("0")   
                follow.val("0"); 
               
				}
            }, error: function () {
                console.log('오류입니다.');
            }
        });
		alert("팔로우 되었습니다 d=(´▽｀)");
	}; 
</script>
<body style="overflow: auto;">
<th:block th:replace="/fragments/layouts/nav.html :: fragment-nav"></th:block>
<!-- 본문 글 -->
<div class="mainPage1">
	<div class="mainPage2">
		<div class="mainPageTop1">
			<div class="mainPageTop2">
				<div class="mainPageTopLeft1">
					<div class="mainPageTopLeft2">
						<div size="310" class="mainPageTopLeftSize1">
							<div class="mainPageTopLeftSize2">
								<div class="mainPageTopLeftSize3"></div>
							</div>
							<div class="mainPageTopLeftContent">
								<img
									src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgZmlsbD0iI0ZBRkFGQSIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIi8+CiAgICAgICAgPHBhdGggZD0iTTM2LjIxNiA0MS42ODNjLjI0OC0xLjkzMS40OTgtMy44NjIuNzUtNS43OTRoNi43OWwtLjI4MyA1LjUzN2MwIC4wMTcuMDA3LjAzNC4wMDcuMDUxLS4wMDIuMDEtLjAwMi4wMi0uMDAyLjAzLS4wOTggMS44NzYtMS44OTcgMy4zOTItNC4wMzUgMy4zOTItMS4wNjYgMC0yLjAxOC0uMzktMi42MTUtMS4wNzItLjUxLS41ODUtLjcyMi0xLjMyNS0uNjEyLTIuMTQ0em04Ljg4OCA0LjA3OGMxLjIyNCAxLjI4OSAzLjAwOSAyLjAyOCA0Ljg5IDIuMDI4IDEuODkgMCAzLjY3NC0uNzQgNC45LTIuMDMzLjEwNy0uMTEyLjIwNy0uMjI4LjMwNC0uMzQ1IDEuMjggMS40NDcgMy4yMTcgMi4zNzggNS4zNSAyLjM3OC4xMTIgMCAuMjE2LS4wMjcuMzI4LS4wMzJWNjMuNkgzOS4xMTVWNDcuNzU3Yy4xMTIuMDA1LjIxNS4wMzIuMzI4LjAzMiAyLjEzMyAwIDQuMDcxLS45MzEgNS4zNTEtMi4zOC4wOTkuMTIxLjIuMjM4LjMxLjM1MnptMS41NDUtOS44NzJoNi42OThsLjI4MiA1LjYxOWMwIC4wMTUtLjAwNy4wMjctLjAwNy4wNGwuMDA0LjA4NmEyLjkzOSAyLjkzOSAwIDAgMS0uODI2IDIuMTMyYy0xLjM2NyAxLjQ0LTQuMjMzIDEuNDQxLTUuNjA0LjAwM2EyLjk1IDIuOTUgMCAwIDEtLjgzLTIuMTQybC4wMDQtLjA3OGMwLS4wMTYtLjAwOC0uMDMtLjAwOC0uMDQ4bC4yODctNS42MTJ6bTE2LjM3NiAwYy4yNTIgMS45MzMuNTAyIDMuODY1Ljc1MyA1LjgwNC4xMDkuODEtLjEwNCAxLjU0Ny0uNjE0IDIuMTMyLS41OTYuNjgzLTEuNTUgMS4wNzQtMi42MTYgMS4wNzQtMi4xMzcgMC0zLjkzMi0xLjUxNC00LjAzNC0zLjM4OGEuMzU5LjM1OSAwIDAgMC0uMDAzLS4wNDRjMC0uMDE1LjAwNi0uMDI3LjAwNi0uMDRsLS4yNzgtNS41MzhoNi43ODZ6TTM2LjIyNiA0Ni45NDZ2MTguMDk4YzAgLjc5OC42NDYgMS40NDUgMS40NDQgMS40NDVoMjQuNjVjLjc5OSAwIDEuNDQ1LS42NDcgMS40NDUtMS40NDVWNDYuOTQ2Yy41OS0uMzI4IDEuMTM3LS43MTkgMS41NzUtMS4yMiAxLjA2MS0xLjIxNCAxLjUyMi0yLjc4NSAxLjMwMS00LjQxLS4zLTIuMzU1LS42MDctNC43MDctLjkxOC03LjA2YTEuNDQzIDEuNDQzIDAgMCAwLTEuNDMxLTEuMjU3SDM1LjY5OWMtLjcyNCAwLTEuMzM4LjUzOC0xLjQzMSAxLjI1Ny0uMzExIDIuMzU0LS42MTcgNC43MDctLjkxNiA3LjA1LS4yMjEgMS42MzcuMjQgMy4yMDggMS4zIDQuNDIxLjQzOS41MDIuOTg0Ljg5MyAxLjU3NCAxLjIyeiIgZmlsbD0iI0NDQyIvPgogICAgPC9nPgo8L3N2Zz4K"
									width="100" height="100" alt="상점 프로필 이미지"
									class="mainPageTopLeftContentImg">
								<div class="mainPageTopLeftContentName"><p style="float:left" th:text="${session.username}"></p><p style="float:left">의 상점</p></div>
								<div class="mainPageTopLeftContentManage">
									<a class="mainPageTopLeftContentManager" href="/shop/product/manage">내 상점 관리</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="mainPageTopRight">
					<div class="mainPageTopRightContentTop">
						<div class="mainPageTopRightContentName">
							<p style="float:left" th:text="${session.username}"></p><p style="float:left">의 상점</p>
						</div>
						<div class="mainPageTopRightContentSuccess">본인인증 완료</div>
					</div>

				</div>
			</div>
		</div>
		<div class="middlePage">
			<div class="middlePageTOP">
				<div class="middlePageTOPLabel">
					<a class="rightselectMenu" href="#tab01" >상품&nbsp;
						<span class="sc-dKEPtC iwPSFv" th:text="${count}"></span>
					</a>
					<!--<a class="rightselectMenu" href="#tab02" >상점후기&nbsp;
						<span class="sc-dKEPtC iwPSFv">0</span>
					</a>-->
					<a class="rightselectMenu" href="#tab03" >찜&nbsp;
						<span class="sc-dKEPtC iwPSFv" th:text="${likesCount}"></span>
					</a>
					<a class="rightselectMenu" href="#tab04">팔로잉&nbsp;
						<span class="sc-dKEPtC iwPSFv" th:text="${followingCount}"></span>
					</a>
					<a class="rightselectMenu" href="#tab05">팔로워&nbsp;
						<span class="sc-dKEPtC iwPSFv" th:text="${followerCount}"></span>
					</a>
				</div>
			</div>
			<div class="tabcontent">
		      <div id="tab01" class="active">
					<div class="sc-eMRERa RFCqz">
						<div class="sc-dvpmds ilouDI">
						<div class="clear">
						<div class="mainform">
							<div class="article-list" id="article-list">
      
						      </div>
						      <!-- Pagination List -->
						      <ul class="article-list__pagination article-list__pagination--inactive"
						        id="article-list-pagination" style="display:none;">
						       </ul>
						</div>
					</div>
					</div>
				</div>
		      </div>
		      <!-- <div id="tab02">
	      		<div class="sc-dBAPYN ukhwt">
					<div>
						상점후기<span class="sc-jOBXIr eBCIku">0</span>
					</div>
				</div>
				<div class="sc-dzOgQY ffPelf">상점후기가 없습니다.</div>
		      </div>-->
		      <div id="tab03">
			      <div class="sc-dBAPYN ukhwt">
						</div>
					<div class="sc-cbMPqi fxPTdA">
						<div class="clear">
						<div class="mainform">
						<div class="productform" th:each="likeProduct : ${likeProductList}">
						<a class="aClass" th:href="@{/product_detail(P_ID=${likeProduct.P_ID})}" target="_blank" rel="noopener noreferrer">
							<div class="imageBlock">
								<img th:src="@{/image}+${/likeProduct.image1}" class="imageClass" width="194" height="194" alt="상품 이미지">
								<div class="middleBlock"></div>
							</div>
							<div class="titleBlock">
								<div class="titleText"><p th:text="${likeProduct.P_TITLE}"></p></div>
									<div class="priceBlock">
										<div class="priceText"><b th:text="${likeProduct.PRICE}"></b></div>
											<div class="timeStamp">
												<span th:text="${likeProduct.P_DATE}"></span>
											</div>
									</div>
							</div>
						</a>
					</div>
					</div>
					</div>
					</div>
		      </div>
		      <div id="tab04">
		      		<div class="sc-jbWsrJ duDzEA">
						<div class="sc-dBAPYN ukhwt">
							<div class="sc-dNoQZL etnqDb">
								<div class="sc-gQNndl klVXcn">
										<div class="sc-MYvYT cFagDy" th:each="follow : ${followers}">
											<div class="sc-cgzHhG iSMChO" id="followingCheck" th:value=${follow.following}>
												<a class="sc-bTiqRo cGZvRs" th:href="@{/shop/}+${follow.following}">
													<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgZmlsbD0iI0ZBRkFGQSIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIi8+CiAgICAgICAgPHBhdGggZD0iTTM2LjIxNiA0MS42ODNjLjI0OC0xLjkzMS40OTgtMy44NjIuNzUtNS43OTRoNi43OWwtLjI4MyA1LjUzN2MwIC4wMTcuMDA3LjAzNC4wMDcuMDUxLS4wMDIuMDEtLjAwMi4wMi0uMDAyLjAzLS4wOTggMS44NzYtMS44OTcgMy4zOTItNC4wMzUgMy4zOTItMS4wNjYgMC0yLjAxOC0uMzktMi42MTUtMS4wNzItLjUxLS41ODUtLjcyMi0xLjMyNS0uNjEyLTIuMTQ0em04Ljg4OCA0LjA3OGMxLjIyNCAxLjI4OSAzLjAwOSAyLjAyOCA0Ljg5IDIuMDI4IDEuODkgMCAzLjY3NC0uNzQgNC45LTIuMDMzLjEwNy0uMTEyLjIwNy0uMjI4LjMwNC0uMzQ1IDEuMjggMS40NDcgMy4yMTcgMi4zNzggNS4zNSAyLjM3OC4xMTIgMCAuMjE2LS4wMjcuMzI4LS4wMzJWNjMuNkgzOS4xMTVWNDcuNzU3Yy4xMTIuMDA1LjIxNS4wMzIuMzI4LjAzMiAyLjEzMyAwIDQuMDcxLS45MzEgNS4zNTEtMi4zOC4wOTkuMTIxLjIuMjM4LjMxLjM1MnptMS41NDUtOS44NzJoNi42OThsLjI4MiA1LjYxOWMwIC4wMTUtLjAwNy4wMjctLjAwNy4wNGwuMDA0LjA4NmEyLjkzOSAyLjkzOSAwIDAgMS0uODI2IDIuMTMyYy0xLjM2NyAxLjQ0LTQuMjMzIDEuNDQxLTUuNjA0LjAwM2EyLjk1IDIuOTUgMCAwIDEtLjgzLTIuMTQybC4wMDQtLjA3OGMwLS4wMTYtLjAwOC0uMDMtLjAwOC0uMDQ4bC4yODctNS42MTJ6bTE2LjM3NiAwYy4yNTIgMS45MzMuNTAyIDMuODY1Ljc1MyA1LjgwNC4xMDkuODEtLjEwNCAxLjU0Ny0uNjE0IDIuMTMyLS41OTYuNjgzLTEuNTUgMS4wNzQtMi42MTYgMS4wNzQtMi4xMzcgMC0zLjkzMi0xLjUxNC00LjAzNC0zLjM4OGEuMzU5LjM1OSAwIDAgMC0uMDAzLS4wNDRjMC0uMDE1LjAwNi0uMDI3LjAwNi0uMDRsLS4yNzgtNS41MzhoNi43ODZ6TTM2LjIyNiA0Ni45NDZ2MTguMDk4YzAgLjc5OC42NDYgMS40NDUgMS40NDQgMS40NDVoMjQuNjVjLjc5OSAwIDEuNDQ1LS42NDcgMS40NDUtMS40NDVWNDYuOTQ2Yy41OS0uMzI4IDEuMTM3LS43MTkgMS41NzUtMS4yMiAxLjA2MS0xLjIxNCAxLjUyMi0yLjc4NSAxLjMwMS00LjQxLS4zLTIuMzU1LS42MDctNC43MDctLjkxOC03LjA2YTEuNDQzIDEuNDQzIDAgMCAwLTEuNDMxLTEuMjU3SDM1LjY5OWMtLjcyNCAwLTEuMzM4LjUzOC0xLjQzMSAxLjI1Ny0uMzExIDIuMzU0LS42MTcgNC43MDctLjkxNiA3LjA1LS4yMjEgMS42MzcuMjQgMy4yMDggMS4zIDQuNDIxLjQzOS41MDIuOTg0Ljg5MyAxLjU3NCAxLjIyeiIgZmlsbD0iI0NDQyIvPgogICAgPC9nPgo8L3N2Zz4K" width="60" height="60" alt="팔로워 프로필 이미지">
												</a>
												<a class="sc-jtHxuu jnsWmN" th:href="@{/shop/}+${follow.following}"><span th:text="${follow.followingName}"></span></a>
												<div class="sc-fFTYTi cUKifA">
													<button id="followCheck" name="followCheck" class="sc-hARARD dvasCz" th:value=${follow.following} th:if="${following == 0}">
														<img id="followImage" name="followImage" th:if="${following == 0}" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAcCAYAAAATFf3WAAAAAXNSR0IArs4c6QAAAfZJREFUWAntVrFOAkEQ5VYjjZ9gjKWcP0BNYeIPkFjYaWHUxo6CC4GCzkpiY2dhwg+YUEBBox8gWBo+wMoGizvn4WKysLN3c3diwybHZmfem3nM7d6sV0g4ms3mQRiGpwQ/pGdX0yY095RS90EQvGpbrpMXF63b7W6Nx+ObKIrOCasYfOh53l2pVLquVqtfDMZqbjQaERw0W7VwCWfBIG40Gj2RuAsyuLAKGGDBmZFz+nElLaBylKciyFXRHAHFDWUFYs/p1+qOsOAFB9wFc+olK1AfCNbvyKg01wFJ7nIJwGlNO7JwjZybxspczD8lpjXZaok7P60cnfO7KsjFWqndVcEJKfFTqgHXGNx3bl45zu+qYM/IIFtk4RqZWIFoX4QMDXSyRai5ydAxKFYgeivaVwx/yQ1Onn2ZFYjM6K009ZdU8Ia+5vAIoccpEI3f9/0jqkqH4rpeNy4LHWCll4U4vdYbhI30X9ctm5a1TVKB31dMtxDVarUuqdGfUIB9erYlgSzYT7K90SfnoV6v39Iede1hC/3HNBPYbrf3ptPpI5nKLDKb47lYLB7XarV3aRjchNUfi4OmMnIgl1TgBo0rIp5JiSnwO8Ph8GMwGLxIuLhcYs+tZKTJhZLjQKxqiHNBYNbTKvlz4lziTStRkwd2LTBrFb8B8aSntyo1wCwAAAAASUVORK5CYII="
															width="20" height="14" alt="화이트 테마 언팔로우 버튼 아이콘">팔로우
													</button>
													<button id="followCheck" th:myName="${follow.following}" class="sc-cmUJln kjYBif" th:value=${follow.following} th:if="${following == 1}" th:onclick="cancelFollow(this.getAttribute('myName'))">
														<img id="followImage" name="followImage" th:if="${following == 1}" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAcCAYAAAAX4C3rAAAAAXNSR0IArs4c6QAAAyRJREFUWAntVs9LFHEUf9/vqpDpbLegIDr0i4pOHTp0UjQikCwS1p1dpUSQlDAIii57CLpEhBehJHQbtz+goCy0Q7cOHaKI7MehU3WI3VlNXN15vTfTyLDOd2fWUezgwvL9znufz/t+5vu+3/dGQMhfsafniFWy+kBgOyLuYZoQ4jugeCEb5FjzxMSHkKHWBBNBLMxkGszZz3dJ1gAJlH54EmwB4Kh2YP9VkcmU/DBRbb4Lu0FZZOHTl2eIcFklkrHsY4yNJY7Ljzri8PA2N0ZVoc5OYosLDh6xxeEEI4MQBV1PFH7++vgnnd7NWKVQPpOc7qCAq/1iwOGu9oS1mAm9DywwBIhdS8t4lHlKoXxxqqVbtShz7EunAgTYC936FQS8DwhLQshz8dyjKaYohfLtDoipdvtwsb+/UU1wPPlE8ia96D0qJ4sQg7PaZPapy1EKJYJdglxgLWMl10wmO83i/Ld8KnVcFcdMpm6T7xb9F6i2dMQN47kXqxTqBUWdoyUuIMBOKOO0mUif9MajlxKFRGrEsqzrtJPzMRE7s8MwXnoxPFcKtYt5JTrkcyVX6+xI0cUwqI5plrCm8rrexqGo/MlCd3oMwRqixzkp4XRzLvvKbxmlUO44foRQtgqu6Ooqawf39dCOjZHYRlGGJ8WEfp5KWQ7Aukh2U0KsXTOM16r4ys5kt8yl8jtKjfplfKJyl5L1sWN+LZXTTGdxhMbBFaoQeQHyVDyXfbNi85koRTgL4agPJ8CEo34imUQvgfGcMUSTO/YzwO96Ca1BIhmrFMpO7t0Ufobn4X5ixuFUR+/IGdcIcSMWEy3bDeNtdbTjVabeJf8vHyWBQl3Bm/2Z5+rYGtdrB1ZSz8XXnP06SHUuRR8Fh2iBpoiLzNEtf08X/YE2OfkwYiywhS709u4tlZYfU307ETWgL1+I6bqGOr1pfPyHrz+EUfJObqhIFoHYWl5cznLBD6HJF2Kne8N20rMkHae2op7u85hqmko+kzUxIoDRwktrpct/F2et/Jp4lPjDNRE8YG6hUW+3J1zAFLE5AKF0V+31StYmOLaErvem/wV6ElIsklNjOAAAAABJRU5ErkJggg=="
														 width="21" height="14" alt="팔로우 버튼 아이콘">팔로잉
													</button>
												</div>
											</div>
									</div>
								</div>
							</div>
						</div>
					</div>
		      </div>
		      <div id="tab05">
		      		<div class="sc-exdmVY llQzap">
						<div class="sc-dBAPYN ukhwt">
							<div class="sc-dNoQZL etnqDb">
								<div class="sc-gQNndl klVXcn">
										<div class="sc-MYvYT cFagDy" th:each="follower : ${followings}">
											<div class="sc-cgzHhG iSMChO">
											<a class="sc-bTiqRo cGZvRs" th:href="@{/shop/}+${follower.follower}">
											<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgZmlsbD0iI0ZBRkFGQSIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIi8+CiAgICAgICAgPHBhdGggZD0iTTM2LjIxNiA0MS42ODNjLjI0OC0xLjkzMS40OTgtMy44NjIuNzUtNS43OTRoNi43OWwtLjI4MyA1LjUzN2MwIC4wMTcuMDA3LjAzNC4wMDcuMDUxLS4wMDIuMDEtLjAwMi4wMi0uMDAyLjAzLS4wOTggMS44NzYtMS44OTcgMy4zOTItNC4wMzUgMy4zOTItMS4wNjYgMC0yLjAxOC0uMzktMi42MTUtMS4wNzItLjUxLS41ODUtLjcyMi0xLjMyNS0uNjEyLTIuMTQ0em04Ljg4OCA0LjA3OGMxLjIyNCAxLjI4OSAzLjAwOSAyLjAyOCA0Ljg5IDIuMDI4IDEuODkgMCAzLjY3NC0uNzQgNC45LTIuMDMzLjEwNy0uMTEyLjIwNy0uMjI4LjMwNC0uMzQ1IDEuMjggMS40NDcgMy4yMTcgMi4zNzggNS4zNSAyLjM3OC4xMTIgMCAuMjE2LS4wMjcuMzI4LS4wMzJWNjMuNkgzOS4xMTVWNDcuNzU3Yy4xMTIuMDA1LjIxNS4wMzIuMzI4LjAzMiAyLjEzMyAwIDQuMDcxLS45MzEgNS4zNTEtMi4zOC4wOTkuMTIxLjIuMjM4LjMxLjM1MnptMS41NDUtOS44NzJoNi42OThsLjI4MiA1LjYxOWMwIC4wMTUtLjAwNy4wMjctLjAwNy4wNGwuMDA0LjA4NmEyLjkzOSAyLjkzOSAwIDAgMS0uODI2IDIuMTMyYy0xLjM2NyAxLjQ0LTQuMjMzIDEuNDQxLTUuNjA0LjAwM2EyLjk1IDIuOTUgMCAwIDEtLjgzLTIuMTQybC4wMDQtLjA3OGMwLS4wMTYtLjAwOC0uMDMtLjAwOC0uMDQ4bC4yODctNS42MTJ6bTE2LjM3NiAwYy4yNTIgMS45MzMuNTAyIDMuODY1Ljc1MyA1LjgwNC4xMDkuODEtLjEwNCAxLjU0Ny0uNjE0IDIuMTMyLS41OTYuNjgzLTEuNTUgMS4wNzQtMi42MTYgMS4wNzQtMi4xMzcgMC0zLjkzMi0xLjUxNC00LjAzNC0zLjM4OGEuMzU5LjM1OSAwIDAgMC0uMDAzLS4wNDRjMC0uMDE1LjAwNi0uMDI3LjAwNi0uMDRsLS4yNzgtNS41MzhoNi43ODZ6TTM2LjIyNiA0Ni45NDZ2MTguMDk4YzAgLjc5OC42NDYgMS40NDUgMS40NDQgMS40NDVoMjQuNjVjLjc5OSAwIDEuNDQ1LS42NDcgMS40NDUtMS40NDVWNDYuOTQ2Yy41OS0uMzI4IDEuMTM3LS43MTkgMS41NzUtMS4yMiAxLjA2MS0xLjIxNCAxLjUyMi0yLjc4NSAxLjMwMS00LjQxLS4zLTIuMzU1LS42MDctNC43MDctLjkxOC03LjA2YTEuNDQzIDEuNDQzIDAgMCAwLTEuNDMxLTEuMjU3SDM1LjY5OWMtLjcyNCAwLTEuMzM4LjUzOC0xLjQzMSAxLjI1Ny0uMzExIDIuMzU0LS42MTcgNC43MDctLjkxNiA3LjA1LS4yMjEgMS42MzcuMjQgMy4yMDggMS4zIDQuNDIxLjQzOS41MDIuOTg0Ljg5MyAxLjU3NCAxLjIyeiIgZmlsbD0iI0NDQyIvPgogICAgPC9nPgo8L3N2Zz4K"
												width="60" height="60" alt="프로필 이미지">
											</a>
											<a class="sc-jtHxuu jnsWmN" th:href="@{/shop/}+${follower.follower}"><span th:text="${follower.followerName}"></span></a>
											
											</div>
										</div>
									</div>
								</div>		
							</div>
						</div>
					</div>
		     	 </div>
		    </div>
		</div>
	</div>
</div>
<script type="text/javascript" th:inline="javascript">
    const articlesPerPageSize = 5;
    
    function getPageId(n) {
        return 'article-page-' + n;
    }
     
    function getDocumentHeight() {
        const body = document.body;
        const html = document.documentElement;
        
        return Math.max(
            body.scrollHeight, body.offsetHeight,
            html.clientHeight, html.scrollHeight, html.offsetHeight
        );
    };
     
    function getScrollTop() {
        return (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;
    }
	
    function getArticle(art) {
    	
    	
        //const articleImage = getArticleImage();
        
        const div0 = document.createElement("div");
        const article = document.createElement("a");
        const div1 = document.createElement("div");
       	const img = document.createElement("img");
       	const div2 = document.createElement("div");
       	const div3 = document.createElement("div");
       	const div4 = document.createElement("div");
       	const p1 = document.createElement("p");
       	const div5 = document.createElement("div");
       	const div6 = document.createElement("div");
       	const b1 = document.createElement("b");
       	const div7 = document.createElement("div");
       	const span1 = document.createElement("span");
       	
       	div0.className="productform";
       	
       	article.className = 'aClass';
        article.href = "/product_detail?P_ID="+art.p_ID;
       	article.target ="_blank";
       	article.rel="noopener noreferrer";
       	
        img.src = "/image/"+art.image1;
        img.className = "imageClass";
        img.style.width = '194px';
        img.style.height = '194px';
        
        div1.className="imageBlock";
        
        div2.className="middleBlock";
        
        div3.className="titleBlock";
        
        div4.className="titleText";
        
        p1.textContent=art.p_TITLE;
        
        div5.className="priceBlock";
        
        div6.className="priceText";
        
        b1.textContent=art.price;
        
        div7.className="timeStamp";
        
        span1.textContent=art.p_DATE;
        
        div0.appendChild(article);
        article.appendChild(div1);
        div1.appendChild(img);
        div1.appendChild(div2);
        article.appendChild(div3);
        div3.appendChild(div4);
        div4.appendChild(p1);
        div3.appendChild(div5);
        div5.appendChild(div6);
        div6.appendChild(b1);
        div5.appendChild(div7);
        div7.appendChild(span1);
        return div0;
    }

    function addPaginationPage(page) {
        const pageLink = document.createElement('a');
        pageLink.href = '#' + getPageId(page);
        pageLink.innerHTML = page;
        
        const listItem = document.createElement('li');
        listItem.className = 'article-list__pagination__item';
        listItem.appendChild(pageLink);
        
        articleListPagination.appendChild(listItem);
        
        if (page === 2) {
            articleListPagination.classList.remove('article-list__pagination--inactive');
        }
    }
     

    function addPage(page) {
    	$.ajax({
            type: 'GET',
            url: '/scroll/userlist',
            data: {
              page: page, // current Page
              size: articlesPerPageSize, // max page size
              message: [[${session.userId}]]
            },
            dataType: 'json',
          }).done(function (result) {
            if (result.length == 0) {
              return;
            }
            const pageElement = document.createElement('div');
            pageElement.id = getPageId(page);
            pageElement.className = 'productSession';
            const div10 = document.createElement('div');
            div10.className = "mainform";
            pageElement.appendChild(div10);
            for (var i = 0; i < result.length; i++) {
            	div10.appendChild(getArticle(result[i]));
            }
            articleList.appendChild(pageElement);
        addPaginationPage(page);
       });
    }
     
    const articleList = document.getElementById('article-list');
    const articleListPagination = document.getElementById('article-list-pagination');
    
    let page = 0;
     
    addPage(page++);
     
    window.onscroll = function() {
    	if (getScrollTop() > getDocumentHeight() - window.innerHeight-400){
    		
        	didScroll = true;
    	
    	 return; 
    	}
    	
    }
    
    setInterval(function() {
        if (didScroll) {
            hasScrolled();
            didScroll = false;
        }
    }, 3000);
    
    function hasScrolled() {
    	addPage(page++)
    }
    
    </script>
<th:block th:replace="/fragments/layouts/footerFragment.html :: footerFragment"></th:block>
</body>
</html>